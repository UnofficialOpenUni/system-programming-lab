Check out the code at line 40 of LongestLine.c for the solution.
